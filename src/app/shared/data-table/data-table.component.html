<!-- <table mat-table [dataSource]="tableData">
  <ng-container matColumnDef="App">
    <th mat-header-cell *matHeaderCellDef>App</th>
    <td mat-cell *matCellDef="let element">{{ element.App }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="['App']"></tr>
  <tr mat-row *matRowDef="let myRowData; columns: ['App']"></tr>
</table>

<div *ngFor="let item of tableData | keyvalue">
  <p>{{ item.keys }}</p> |
</div> -->

<!-- <table>
  <tr>
    <th *ngFor="let header of tableData[0] | keyvalue">
        {{ header.key }}
    </th>
  </tr>
  <tr *ngFor="let col of tableData">
    <td *ngFor="let value of col | keyvalue">
        {{ value.value }}
    </td>
  </tr>
</table> -->

<div class="mat-elevation-z8">
  <p>Filter list by:</p>
  <mat-form-field class="filter">
    <mat-label>Category</mat-label>
    <mat-select [(value)]="selectedCategory">
      <mat-option *ngFor="let category of categories" [value]="category.value">
        {{ category.viewValue }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="filter">
    <mat-label>Genres</mat-label>
    <mat-select [(value)]="selectedGenre">
      <mat-option *ngFor="let genre of genres" [value]="genre.value">
        {{ genre.viewValue }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field class="filter">
    <mat-label>Types</mat-label>
    <mat-select [(value)]="selectedType">
      <mat-option *ngFor="let type of types" [value]="type.value">
        {{ type.viewValue }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <br />
  <p>Sort list by:</p>
  <mat-form-field class="filter">
    <mat-label>Field Name</mat-label>
    <mat-select [(value)]="sortingBy">
      <mat-option *ngFor="let fieldName of sortingList" [value]="fieldName">
        {{ fieldName }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <br />
  <p>Search by App Name:</p>
  <mat-form-field class="filter">
    <mat-label>App Name</mat-label>
    <input matInput type="text" [(ngModel)]="appSearch" autocomplete="off" />
    <button
      mat-button
      *ngIf="appSearch"
      matSuffix
      mat-icon-button
      aria-label="Clear"
    ></button>
  </mat-form-field>
  <br />
  <button color="primary" mat-button (click)="getFilteredResult()">
    Submit
  </button>
  <table mat-table [dataSource]="tableData" matSort class="mat-elevation-z8">
    <ng-container
      *ngFor="let disCol of displayedColumns; let colIndex = index";
      matColumnDef="{{ disCol }}"
    >
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ disCol }}</th>
      <td mat-cell *matCellDef="let element">
        {{ element[disCol] }}
        <span *ngIf="disCol === 'Installs'">K+</span>
        <span *ngIf="disCol === 'Size'">MB</span>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <br />
  <p class="notFound" *ngIf="noResultFound">No result!!</p>
  <button class="more" color="accent" mat-button (click)="loadMoreData('next')">
    Next
  </button>
  <button
    [disabled]="page === 0 || page === -1"
    class="more"
    color="accent"
    mat-button
    (click)="loadMoreData('previous')"
  >
    Previous
  </button>
</div>
